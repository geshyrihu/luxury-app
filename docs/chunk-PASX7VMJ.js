import{a as b}from"./chunk-LRAUUQVI.js";import"./chunk-7ANUR2EW.js";import{B as P}from"./chunk-RBLK56XA.js";import{Db as g,Eb as f,Ib as t,Jb as i,Kb as d,_b as m,ca as C,ec as n,gc as r,ja as h,jb as o,la as x,oc as S,pb as E,yb as v}from"./chunk-3JZBD3P2.js";import"./chunk-G2X5OL7Z.js";var I=(()=>{let c=class c{constructor(){this.dataGrafico$=new E}onSetDataGraficos(u){this.dataGrafico=u}};c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=C({token:c,factory:c.\u0275fac,providedIn:"root"});let a=c;return a})();function G(a,c){if(a&1&&(t(0,"span",19),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasContable.evaluacionConcluido+"%"),o(1),r(" ",l.graficoMinutasContable.evaluacionConcluido,"% ")}}function L(a,c){if(a&1&&(t(0,"span",20),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasContable.evaluacionPendiente+"%"),o(1),r(" ",l.graficoMinutasContable.evaluacionPendiente,"% ")}}function y(a,c){if(a&1&&(t(0,"span",19),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasOperaciones.evaluacionConcluido+"%"),o(1),r(" ",l.graficoMinutasOperaciones.evaluacionConcluido,"% ")}}function O(a,c){if(a&1&&(t(0,"span",20),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasOperaciones.evaluacionPendiente+"%"),o(1),r(" ",l.graficoMinutasOperaciones.evaluacionPendiente,"% ")}}function N(a,c){if(a&1&&(t(0,"span",19),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasLegal.evaluacionConcluido+"%"),o(1),r(" ",l.graficoMinutasLegal.evaluacionConcluido,"% ")}}function T(a,c){if(a&1&&(t(0,"span",20),n(1),i()),a&2){let l=m();v("width:"+l.graficoMinutasLegal.evaluacionPendiente+"%"),o(1),r(" ",l.graficoMinutasLegal.evaluacionPendiente,"% ")}}function w(a,c){if(a&1&&(t(0,"span",19),n(1),i()),a&2){let l=m();v("width:"+l.graficoMttoPreventivos.evaluacionConcluido+"%"),o(1),r(" ",l.graficoMttoPreventivos.evaluacionConcluido,"% ")}}function F(a,c){if(a&1&&(t(0,"span",20),n(1),i()),a&2){let l=m();v("width:"+l.graficoMttoPreventivos.evaluacionPendiente+"%"),o(1),r(" ",l.graficoMttoPreventivos.evaluacionPendiente,"% ")}}function R(a,c){if(a&1&&(t(0,"span",19),n(1),i()),a&2){let l=m();v("width:"+l.graficosMantenimiento.evaluacionConcluido+"%"),o(1),r(" ",l.graficosMantenimiento.evaluacionConcluido,"% ")}}function V(a,c){if(a&1&&(t(0,"span",20),n(1),i()),a&2){let l=m();v("width:"+l.graficosMantenimiento.evaluacionPendiente+"%"),o(1),r(" ",l.graficosMantenimiento.evaluacionPendiente,"% ")}}var z=(()=>{let c=class c{constructor(){this.resultadoGeneralService=h(I),this.rangoCalendarioService=h(b),this.tituloInicio=this.rangoCalendarioService.fechaFinal,this.tituloFin=this.rangoCalendarioService.fechaFinal,this.graficoMinutas=[],this.graficoMttoPreventivos=[],this.graficosMantenimiento=[],this.graficoMinutasContable=[],this.graficoMinutasOperaciones=[],this.graficoMinutasLegal=[],this.totalMinutasLegal=0,this.totalMinutas=0,this.totalMttoPreventivos=0,this.totalsMantenimiento=0,this.totalMinutasContable=0,this.totalMinutasOperaciones=0}ngOnInit(){this.onSetDataGraficos(this.resultadoGeneralService.dataGrafico)}onValidateNan(u){return!isNaN(u)}onSetDataGraficos(u){this.graficoMinutas=[],this.graficoMttoPreventivos=[],this.graficosMantenimiento=[],this.graficoMinutasContable=[],this.graficoMinutasOperaciones=[],this.graficoMinutasLegal=[],u.forEach(s=>{s.concepto.label=="Minuta"&&this.graficoMinutas.push(s),s.concepto.label=="Mttos Preventivos"&&this.graficoMttoPreventivos.push(s),s.concepto.label=="Mttos Correctivos"&&this.graficosMantenimiento.push(s),s.concepto.label=="Minuta-Contable"&&this.graficoMinutasContable.push(s),s.concepto.label=="Minuta-Operaciones"&&this.graficoMinutasOperaciones.push(s),s.concepto.label=="Minuta-Legal"&&this.graficoMinutasLegal.push(s)}),this.graficoMinutas=this.onFilter(this.graficoMinutas),this.graficoMttoPreventivos=this.onFilter(this.graficoMttoPreventivos),this.graficosMantenimiento=this.onFilter(this.graficosMantenimiento),this.graficoMinutasContable=this.onFilter(this.graficoMinutasContable),this.graficoMinutasOperaciones=this.onFilter(this.graficoMinutasOperaciones),this.graficoMinutasLegal=this.onFilter(this.graficoMinutasLegal),this.totalMinutasLegal=this.graficoMinutasLegal.evaluacionConcluido,this.totalMinutas=this.graficoMinutas.evaluacionConcluido,this.totalMttoPreventivos=this.graficoMttoPreventivos.evaluacionConcluido,this.totalsMantenimiento=this.graficosMantenimiento.evaluacionConcluido,this.totalMinutasContable=this.graficoMinutasContable.evaluacionConcluido,this.totalMinutasOperaciones=this.graficoMinutasOperaciones.evaluacionConcluido}onLoadTotal(){return 0}onFilter(u){let s,e=0,p=0;return u.forEach(M=>{e=e+Number(M.solicitudesPendientes),p=p+Number(M.solicitudesAtendidas)}),s={totalConcluido:p,evaluacionConcluido:this.onEvaluation(e,p),totalItems:e+p,totalPendiente:e,evaluacionPendiente:this.onEvaluation(p,e),textEvaluacion:this.onLoadTitle(this.onEvaluation(e,p))},s}onEvaluation(u,s){let e=u+s,p=s/e;return Math.round(p*100)}onLoadTitle(u){return u<=94?"RIESGO":u>=100?"EXCELENTE":u>=95&&u<=99?"REGULAR":""}};c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=x({type:c,selectors:[["app-grafico-resultado-general"]],standalone:!0,features:[S],decls:119,vars:25,consts:[[1,"container-fluid","mt-0"],[1,"row"],[1,"col-sm-12"],[1,"h4"],[1,"col-sm-4"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"font-bold","text-seco"],[1,"card-body","text-center"],[1,"card-footer"],[1,"w-100"],[1,"info-box-text"],[1,"float-left"],[1,"fa-regular","fa-check-double","text-success"],[1,"float-right"],[1,"fa-regular","fa-xmark","text-danger"],["class","badge py-2 bg-success rounded-0",3,"style"],["class","badge py-2 bg-danger rounded-0",3,"style"],[1,"badge","py-2","bg-success","rounded-0"],[1,"badge","py-2","bg-danger","rounded-0"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n(4,"MINUTAS"),i()()(),t(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),n(10," Contable ("),t(11,"span",8),n(12),i(),n(13,") "),i()(),d(14,"div",9),t(15,"div",10)(16,"div",11)(17,"span",12)(18,"span",13),d(19,"i",14),n(20),i(),t(21,"span",15),d(22,"i",16),n(23),i()()(),d(24,"br"),t(25,"div",11),g(26,G,2,3,"span",17)(27,L,2,3,"span",18),i()()()(),t(28,"div",4)(29,"div",5)(30,"div",6)(31,"div",7),n(32," Operaciones ("),t(33,"span",8),n(34),i(),n(35,") "),i()(),d(36,"div",9),t(37,"div",10)(38,"div",11)(39,"span",13),d(40,"i",14),n(41),i(),t(42,"span",15),d(43,"i",16),n(44),i()(),d(45,"br"),t(46,"div",11),g(47,y,2,3,"span",17)(48,O,2,3,"span",18),i()()()(),t(49,"div",4)(50,"div",5)(51,"div",6)(52,"div",7),n(53," Legal ("),t(54,"span",8),n(55),i(),n(56,") "),i()(),d(57,"div",9),t(58,"div",10)(59,"div",11)(60,"span",12)(61,"span",13),d(62,"i",14),n(63),i(),t(64,"span",15),d(65,"i",16),n(66),i()()(),d(67,"br"),t(68,"div",11),g(69,N,2,3,"span",17)(70,T,2,3,"span",18),i()()()()(),t(71,"div",1)(72,"div",2)(73,"div",3),n(74,"Mantenimientos"),i()(),t(75,"div",4)(76,"div",5)(77,"div",6)(78,"div",7),n(79," Preventivos ("),t(80,"span",8),n(81),i(),n(82,") "),i()(),d(83,"div",9),t(84,"div",10)(85,"div",11)(86,"span",12)(87,"span",13),d(88,"i",14),n(89),i(),t(90,"span",15),d(91,"i",16),n(92),i()()(),d(93,"br"),t(94,"div",11),g(95,w,2,3,"span",17)(96,F,2,3,"span",18),i()()()(),t(97,"div",4)(98,"div",5)(99,"div",6)(100,"div",7),n(101," Correctivos ("),t(102,"span",8),n(103),i(),n(104,") "),i()(),d(105,"div",9),t(106,"div",10)(107,"div",11)(108,"span",12)(109,"span",13),d(110,"i",14),n(111),i(),t(112,"span",15),d(113,"i",16),n(114),i()()(),d(115,"br"),t(116,"div",11),g(117,R,2,3,"span",17)(118,V,2,3,"span",18),i()()()()()()),s&2&&(o(12),r(" ",e.graficoMinutasContable.totalItems," "),o(8),r(" Concluido : ",e.graficoMinutasContable.totalConcluido," "),o(3),r(" Pendiente: ",e.graficoMinutasContable.totalPendiente," "),o(3),f(26,e.onValidateNan(e.graficoMinutasContable.evaluacionConcluido)?26:-1),o(1),f(27,e.onValidateNan(e.graficoMinutasContable.evaluacionPendiente)?27:-1),o(7),r(" ",e.graficoMinutasOperaciones.totalItems," "),o(7),r(" Concluido : ",e.graficoMinutasOperaciones.totalConcluido," "),o(3),r(" Pendiente: ",e.graficoMinutasOperaciones.totalPendiente," "),o(3),f(47,e.onValidateNan(e.graficoMinutasOperaciones.evaluacionConcluido)?47:-1),o(1),f(48,e.onValidateNan(e.graficoMinutasOperaciones.evaluacionPendiente)?48:-1),o(7),r(" ",e.graficoMinutasLegal.totalItems," "),o(8),r(" Concluido : ",e.graficoMinutasLegal.totalConcluido," "),o(3),r(" Pendiente: ",e.graficoMinutasLegal.totalPendiente," "),o(3),f(69,e.onValidateNan(e.graficoMinutasLegal.evaluacionConcluido)?69:-1),o(1),f(70,e.onValidateNan(e.graficoMinutasLegal.evaluacionPendiente)?70:-1),o(11),r(" ",e.graficoMttoPreventivos.totalItems," "),o(8),r(" Concluido : ",e.graficoMttoPreventivos.totalConcluido," "),o(3),r(" Pendiente: ",e.graficoMttoPreventivos.totalPendiente," "),o(3),f(95,e.onValidateNan(e.graficoMttoPreventivos.evaluacionConcluido)?95:-1),o(1),f(96,e.onValidateNan(e.graficoMttoPreventivos.evaluacionPendiente)?96:-1),o(7),r(" ",e.graficosMantenimiento.totalItems," "),o(8),r(" Concluido : ",e.graficosMantenimiento.totalConcluido," "),o(3),r(" Pendiente: ",e.graficosMantenimiento.totalPendiente," "),o(3),f(117,e.onValidateNan(e.graficosMantenimiento.evaluacionConcluido)?117:-1),o(1),f(118,e.onValidateNan(e.graficosMantenimiento.evaluacionPendiente)?118:-1))},dependencies:[P],encapsulation:2});let a=c;return a})();export{z as default};
