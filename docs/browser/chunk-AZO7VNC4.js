import{q as h}from"./chunk-MIEORJZ2.js";import{p as f}from"./chunk-FQKZZ3J4.js";import{G as c,ca as i,ja as s,m as a,q as n}from"./chunk-3JZBD3P2.js";var u=(()=>{let t=class t{constructor(){this.storage=localStorage}retrieve(e){let o=this.storage.getItem(e);if(o&&o!=="undefined")return JSON.parse(o)}store(e,o){this.storage.setItem(e,JSON.stringify(o))}remove(e){this.storage.removeItem(e)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var D=(()=>{let t=class t{constructor(){this.storageService=s(u),this.dataService=s(h),this.router=s(f),this.statusJWT=!1,this.data={token:""},this.validateRole=!1}validationToken(){return this.data.token=this.storageService.retrieve("token"),this.data.token===void 0&&this.router.navigateByUrl("/auth/login"),this.dataService.post("Auth/ValidateJwtToken",this.data).pipe(n(e=>(this.userTokenDto=e.body,this.infoUserAuthDto=this.userTokenDto.infoUserAuthDto,this.infoEmployeeDto=this.userTokenDto.infoEmployeeDto,e.body.token&&(this.statusJWT=!0),this.statusJWT)),c(e=>a(!1)))}onValidateRoles(e){return this.userTokenDto.roles.some(o=>e.includes(o))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{u as a,D as b};
