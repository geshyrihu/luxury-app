<div class="container mt-5">
  <div class="row g-4">
    <ng-container *ngFor="let item of menuItems; let i = index">
      <div *ngIf="item.visible" class="col-md-4 col-lg-3">
        <div
          class="card text-center shadow-lg border-0 h-100 border-primary custom-card"
          (click)="handleCardClick(item)"
        >
          <div class="card-body p-4">
            <i class="fa-solid fa-4x text-primary mb-3" [class]="item.icon"></i>
            <h5 class="card-title fw-bold text-uppercase text-dark">
              {{ item.label }}
            </h5>
            <ng-container *ngIf="!item.items">
              <a class="stretched-link" [routerLink]="item.routerLink"></a>
            </ng-container>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- PrimeNG Dialog -->
    <p-dialog
      [(visible)]="display"
      [modal]="true"
      [closable]="true"
      [responsive]="true"
      [style]="{ width: '800px' }"
      [header]="selectedItem?.name"
    >
      <ul class="list-group">
        <li
          *ngFor="let subItem of selectedItem?.items"
          class="list-group-item"
          [class.disabled]="!subItem.visible"
        >
          <a
            *ngIf="subItem.routerLink"
            [routerLink]="subItem.routerLink"
            class="text-decoration-none"
            [class.text-muted]="!subItem.visible"
          >
            {{ subItem.label }}
          </a>
          <span *ngIf="!subItem.routerLink" class="text-muted">{{
            subItem.label
          }}</span>
        </li>
      </ul>
    </p-dialog>
  </div>
</div>

<style>
  .custom-card {
    position: relative;
    overflow: hidden;
  }

  .custom-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 5px; /* Ajusta el ancho seg√∫n lo necesites */
    height: 100%;
    background-color: #0d3b66;
  }
  .list-group-item.disabled {
    pointer-events: none;
    background-color: #f8f9fa;
    color: #6c757d;
  }
  /* Puedes agregar algunos estilos si lo necesitas */
  .custom-card {
    cursor: pointer;
  }
</style>
